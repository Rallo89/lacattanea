{"ast":null,"code":"import Tassoni from '../../images/tassoni.png';\nimport BirraMoretti33 from '../../images/birramoretti33.jpg';\nimport { ADD_TO_CART } from '../actions/action-types/cart-actions';\nconst initState = {\n  items: [{\n    id: 1,\n    title: 'Birra Moretti 33cl',\n    desc: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\",\n    price: 3,\n    img: BirraMoretti33\n  }, {\n    id: 2,\n    title: 'Tassoni',\n    desc: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\",\n    price: 2,\n    img: Tassoni\n  }],\n  addedItems: [],\n  total: 0\n};\n\nconst cartReducer = (state = initState, action) => {\n  //INSIDE HOME COMPONENT\n  if (action.type === ADD_TO_CART) {\n    console.log('ADD TO CART');\n    let addedItem = state.items.find(item => item.id === action.id);\n    console.log(addedItem); //check if the action id exists in the addedItems\n\n    let existed_item = state.addedItems.find(item => action.id === item.id);\n    console.log(existed_item);\n\n    if (existed_item) {\n      console.log('Esiste');\n      addedItem.quantity += 1;\n      return { ...state,\n        total: state.total + addedItem.price\n      };\n    } else {\n      console.log('Non esiste');\n      addedItem.quantity = 1; //calculating the total\n\n      let newTotal = state.total + addedItem.price;\n      return { ...state,\n        addedItems: [...state.addedItems, addedItem],\n        total: newTotal\n      };\n    }\n  } else {\n    return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["/Users/nicolotorreggiani/Documents/GitHub/lacattanea/src/components/reducers/cartReducers.js"],"names":["Tassoni","BirraMoretti33","ADD_TO_CART","initState","items","id","title","desc","price","img","addedItems","total","cartReducer","state","action","type","console","log","addedItem","find","item","existed_item","quantity","newTotal"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,0BAApB;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,SAASC,WAAT,QAA4B,sCAA5B;AAGA,MAAMC,SAAS,GAAG;AACdC,EAAAA,KAAK,EAAE,CACH;AAACC,IAAAA,EAAE,EAAC,CAAJ;AAAMC,IAAAA,KAAK,EAAC,oBAAZ;AAAkCC,IAAAA,IAAI,EAAE,sEAAxC;AAAgHC,IAAAA,KAAK,EAAC,CAAtH;AAAwHC,IAAAA,GAAG,EAACR;AAA5H,GADG,EAEH;AAACI,IAAAA,EAAE,EAAC,CAAJ;AAAMC,IAAAA,KAAK,EAAC,SAAZ;AAAuBC,IAAAA,IAAI,EAAE,sEAA7B;AAAqGC,IAAAA,KAAK,EAAC,CAA3G;AAA6GC,IAAAA,GAAG,EAAET;AAAlH,GAFG,CADO;AAKdU,EAAAA,UAAU,EAAC,EALG;AAMdC,EAAAA,KAAK,EAAE;AANO,CAAlB;;AASA,MAAMC,WAAW,GAAE,CAACC,KAAK,GAAGV,SAAT,EAAoBW,MAApB,KAA+B;AAE9C;AACA,MAAGA,MAAM,CAACC,IAAP,KAAgBb,WAAnB,EAA+B;AAC3Bc,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA,QAAIC,SAAS,GAAGL,KAAK,CAACT,KAAN,CAAYe,IAAZ,CAAiBC,IAAI,IAAIA,IAAI,CAACf,EAAL,KAAYS,MAAM,CAACT,EAA5C,CAAhB;AACAW,IAAAA,OAAO,CAACC,GAAR,CAAYC,SAAZ,EAH2B,CAI3B;;AACA,QAAIG,YAAY,GAAER,KAAK,CAACH,UAAN,CAAiBS,IAAjB,CAAsBC,IAAI,IAAIN,MAAM,CAACT,EAAP,KAAce,IAAI,CAACf,EAAjD,CAAlB;AACAW,IAAAA,OAAO,CAACC,GAAR,CAAYI,YAAZ;;AACA,QAAGA,YAAH,EAAgB;AACZL,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAC,MAAAA,SAAS,CAACI,QAAV,IAAsB,CAAtB;AACA,aAAM,EACF,GAAGT,KADD;AAEFF,QAAAA,KAAK,EAAEE,KAAK,CAACF,KAAN,GAAcO,SAAS,CAACV;AAF7B,OAAN;AAIH,KAPD,MAQI;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAC,MAAAA,SAAS,CAACI,QAAV,GAAqB,CAArB,CAFA,CAGA;;AACA,UAAIC,QAAQ,GAAGV,KAAK,CAACF,KAAN,GAAcO,SAAS,CAACV,KAAvC;AAEA,aAAM,EACF,GAAGK,KADD;AAEFH,QAAAA,UAAU,EAAE,CAAC,GAAGG,KAAK,CAACH,UAAV,EAAsBQ,SAAtB,CAFV;AAGFP,QAAAA,KAAK,EAAGY;AAHN,OAAN;AAKH;AACJ,GA3BD,MA4BI;AACA,WAAOV,KAAP;AACH;AACJ,CAlCD;;AAoCA,eAAeD,WAAf","sourcesContent":["import Tassoni from '../../images/tassoni.png'\nimport BirraMoretti33 from '../../images/birramoretti33.jpg'\nimport { ADD_TO_CART } from '../actions/action-types/cart-actions'\n\n\nconst initState = {\n    items: [\n        {id:1,title:'Birra Moretti 33cl', desc: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\", price:3,img:BirraMoretti33},\n        {id:2,title:'Tassoni', desc: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\", price:2,img: Tassoni}\n    ],\n    addedItems:[],\n    total: 0\n\n}\nconst cartReducer= (state = initState, action) => {\n\n    //INSIDE HOME COMPONENT\n    if(action.type === ADD_TO_CART){\n        console.log('ADD TO CART')\n        let addedItem = state.items.find(item => item.id === action.id)\n        console.log(addedItem)\n        //check if the action id exists in the addedItems\n        let existed_item= state.addedItems.find(item => action.id === item.id)\n        console.log(existed_item)\n        if(existed_item){\n            console.log('Esiste')\n            addedItem.quantity += 1 \n            return{\n                ...state,\n                total: state.total + addedItem.price \n            }\n        }\n        else{\n            console.log('Non esiste')\n            addedItem.quantity = 1;\n            //calculating the total\n            let newTotal = state.total + addedItem.price \n          \n            return{\n                ...state,\n                addedItems: [...state.addedItems, addedItem],\n                total : newTotal\n            }\n        }\n    }\n    else{\n        return state\n    }\n}\n\nexport default cartReducer;"]},"metadata":{},"sourceType":"module"}